<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!-- Always ensure to use the correct XML header as above! -->
<sqlMap namespace="WarehouseRecDetail">
<typeAlias alias="warehouseRecDetail" type="com.hbs.domain.warehouse.pojo.WarehouseRecDetail"/> 
<resultMap id="warehouseRecDetail_result" class="warehouseRecDetail">
    <result property="recDetailSeqId" column="REC_DETAIL_SEQID"/>
    <result property="recPoNo" column="REC_PO_NO"/>
    <result property="vendorCode" column="C_CODE"/>
    <result property="shortName" column="SHORT_NAME"/>
    <result property="poNoDate" column="PO_NO_DATE"/>
    <result property="applyDate" column="ARRAY_DATE"/>
    <result property="houseType" column="HOUSE_TYPE"/>
    <result property="rltPoNo" column="RLT_PO_NO"/>
    <result property="settlementType" column="SETTLEMENT_TYPE"/>
    <result property="partNo" column="PART_NO"/>
    <result property="venPartNo" column="C_PART_NO"/>
    <result property="pnDesc" column="PN_DESC"/>
    <result property="price" column="C_PRICE"/>
    <result property="isTax" column="IS_TAX"/>
    <result property="taxRate" column="TAX_RATE"/>
    <result property="amount" column="AMOUNT"/>
    <result property="period" column="PERIOD"/>
    <result property="financeState" column="FINANCE_STATE"/>
    <result property="poNoType" column="PO_NO_TYPE"/>
</resultMap>

<select id="WarehouseRecDetail_getNextId" resultClass="java.lang.String">
<![CDATA[
    SELECT ltrim(to_char(Seq_T_WAREHOUSE_RECEIVE_DETAIL_HIS_Id.Nextval,'0000000000')) 
           AS Id 
    FROM dual
]]>
</select>

<insert id="WarehouseRecDetail_insertWarehouseRecDetail" parameterClass="warehouseRecDetail" >
<![CDATA[
    INSERT INTO T_WAREHOUSE_RECEIVE_DETAIL_HIS (
            REC_DETAIL_SEQID, 
            REC_PO_NO, 
            C_CODE, 
            SHORT_NAME, 
            PO_NO_DATE, 
            ARRAY_DATE, 
            HOUSE_TYPE, 
            RLT_PO_NO, 
            SETTLEMENT_TYPE, 
            PART_NO, 
            C_PART_NO, 
            PN_DESC, 
            C_PRICE, 
            IS_TAX, 
            TAX_RATE, 
            AMOUNT, 
            PERIOD, 
            FINANCE_STATE, 
            PO_NO_TYPE
        )
    VALUES (
            #recDetailSeqId#,
            #recPoNo#,
            #vendorCode#,
            #shortName#,
            #poNoDate#,
            #applyDate#,
            #houseType#,
            #rltPoNo#,
            #settlementType#,
            #partNo#,
            #venPartNo#,
            #pnDesc#,
            #price#,
            #isTax#,
            #taxRate#,
            #amount#,
            #period#,
            #financeState#,
            #poNoType#
    )
]]>
</insert>

<delete id="WarehouseRecDetail_deleteWarehouseRecDetail" parameterClass="string">
<![CDATA[
    DELETE  FROM  T_WAREHOUSE_RECEIVE_DETAIL_HIS WHERE REC_DETAIL_SEQID = #recDetailSeqId#
]]>
</delete>    

<update id="WarehouseRecDetail_updateWarehouseRecDetail" parameterClass="warehouseRecDetail">
    UPDATE T_WAREHOUSE_RECEIVE_DETAIL_HIS 
    SET
    	REC_DETAIL_SEQID = #recDetailSeqId#
	<isNotEmpty prepend="," property="recPoNo">
            REC_PO_NO = #recPoNo#
	</isNotEmpty>
	<isNotEmpty prepend="," property="vendorCode">
            C_CODE = #vendorCode#
	</isNotEmpty>
	<isNotEmpty prepend="," property="shortName">
            SHORT_NAME = #shortName#
	</isNotEmpty>
	<isNotEmpty prepend="," property="poNoDate">
            PO_NO_DATE = #poNoDate#
	</isNotEmpty>
	<isNotEmpty prepend="," property="applyDate">
            ARRAY_DATE = #applyDate#
	</isNotEmpty>
	<isNotEmpty prepend="," property="houseType">
            HOUSE_TYPE = #houseType#
	</isNotEmpty>
	<isNotEmpty prepend="," property="rltPoNo">
            RLT_PO_NO = #rltPoNo#
	</isNotEmpty>
	<isNotEmpty prepend="," property="settlementType">
            SETTLEMENT_TYPE = #settlementType#
	</isNotEmpty>
	<isNotEmpty prepend="," property="partNo">
            PART_NO = #partNo#
	</isNotEmpty>
	<isNotEmpty prepend="," property="venPartNo">
            C_PART_NO = #venPartNo#
	</isNotEmpty>
	<isNotEmpty prepend="," property="pnDesc">
            PN_DESC = #pnDesc#
	</isNotEmpty>
	<isNotEmpty prepend="," property="price">
            C_PRICE = #price#
	</isNotEmpty>
	<isNotEmpty prepend="," property="isTax">
            IS_TAX = #isTax#
	</isNotEmpty>
	<isNotEmpty prepend="," property="taxRate">
            TAX_RATE = #taxRate#
	</isNotEmpty>
	<isNotEmpty prepend="," property="amount">
            AMOUNT = #amount#
	</isNotEmpty>
	<isNotEmpty prepend="," property="period">
            PERIOD = #period#
	</isNotEmpty>
	<isNotEmpty prepend="," property="financeState">
            FINANCE_STATE = #financeState#
	</isNotEmpty>
	<isNotEmpty prepend="," property="poNoType">
            PO_NO_TYPE = #poNoType#
	</isNotEmpty>
    WHERE REC_DETAIL_SEQID = #recDetailSeqId#
</update> 

<select id="WarehouseRecDetail_findWarehouseRecDetail" resultMap="warehouseRecDetail_result" parameterClass="string">
<![CDATA[
    SELECT
            REC_DETAIL_SEQID, 
            REC_PO_NO, 
            C_CODE, 
            SHORT_NAME, 
            PO_NO_DATE, 
            ARRAY_DATE, 
            HOUSE_TYPE, 
            RLT_PO_NO, 
            SETTLEMENT_TYPE, 
            PART_NO, 
            C_PART_NO, 
            PN_DESC, 
            C_PRICE, 
            IS_TAX, 
            TAX_RATE, 
            AMOUNT, 
            PERIOD, 
            FINANCE_STATE, 
            PO_NO_TYPE
    FROM T_WAREHOUSE_RECEIVE_DETAIL_HIS WHERE REC_DETAIL_SEQID = #recDetailSeqId#
]]>
</select>

<select id="WarehouseRecDetail_listWarehouseRecDetail" resultMap="warehouseRecDetail_result" parameterClass="warehouseRecDetail">
<![CDATA[
    SELECT
            REC_DETAIL_SEQID, 
            REC_PO_NO, 
            C_CODE, 
            SHORT_NAME, 
            PO_NO_DATE, 
            ARRAY_DATE, 
            HOUSE_TYPE, 
            RLT_PO_NO, 
            SETTLEMENT_TYPE, 
            PART_NO, 
            C_PART_NO, 
            PN_DESC, 
            C_PRICE, 
            IS_TAX, 
            TAX_RATE, 
            AMOUNT, 
            PERIOD, 
            FINANCE_STATE, 
            PO_NO_TYPE
    FROM T_WAREHOUSE_RECEIVE_DETAIL_HIS
]]>
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="and" property = "recDetailSeqId">
				REC_DETAIL_SEQID = #recDetailSeqId#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "recPoNo">
				REC_PO_NO = #recPoNo#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "vendorCode">
				C_CODE = #vendorCode#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "shortName">
				SHORT_NAME = #shortName#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "poNoDate">
				PO_NO_DATE = #poNoDate#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "applyDate">
				ARRAY_DATE = #applyDate#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "houseType">
				HOUSE_TYPE = #houseType#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "rltPoNo">
				RLT_PO_NO = #rltPoNo#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "settlementType">
				SETTLEMENT_TYPE = #settlementType#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "partNo">
				PART_NO = #partNo#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "venPartNo">
				C_PART_NO = #venPartNo#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "pnDesc">
				PN_DESC = #pnDesc#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "price">
				C_PRICE = #price#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "isTax">
				IS_TAX = #isTax#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "taxRate">
				TAX_RATE = #taxRate#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "amount">
				AMOUNT = #amount#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "period">
				PERIOD = #period#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "financeState">
				FINANCE_STATE = #financeState#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "poNoType">
				PO_NO_TYPE = #poNoType#
			</isNotEmpty>
		</dynamic>
</select>


<select id="WarehouseRecDetail_listWarehouseRecDetailCount" resultClass="java.lang.Integer" parameterClass="warehouseRecDetail">
<![CDATA[
    SELECT
		COUNT(*)
    FROM T_WAREHOUSE_RECEIVE_DETAIL_HIS
]]>
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="and" property = "recDetailSeqId">
				REC_DETAIL_SEQID = #recDetailSeqId#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "recPoNo">
				REC_PO_NO = #recPoNo#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "vendorCode">
				C_CODE = #vendorCode#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "shortName">
				SHORT_NAME = #shortName#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "poNoDate">
				PO_NO_DATE = #poNoDate#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "applyDate">
				ARRAY_DATE = #applyDate#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "houseType">
				HOUSE_TYPE = #houseType#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "rltPoNo">
				RLT_PO_NO = #rltPoNo#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "settlementType">
				SETTLEMENT_TYPE = #settlementType#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "partNo">
				PART_NO = #partNo#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "venPartNo">
				C_PART_NO = #venPartNo#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "pnDesc">
				PN_DESC = #pnDesc#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "price">
				C_PRICE = #price#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "isTax">
				IS_TAX = #isTax#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "taxRate">
				TAX_RATE = #taxRate#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "amount">
				AMOUNT = #amount#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "period">
				PERIOD = #period#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "financeState">
				FINANCE_STATE = #financeState#
			</isNotEmpty>
			<isNotEmpty prepend="and" property = "poNoType">
				PO_NO_TYPE = #poNoType#
			</isNotEmpty>
		</dynamic>
</select>

</sqlMap>